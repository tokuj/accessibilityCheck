# a11y Checker 結果読み解きガイド

## 目次

1. [このガイドについて](#このガイドについて)
2. [レポート画面の構成](#レポート画面の構成)
3. [エンジン別結果の読み方](#エンジン別結果の読み方)
4. [影響度（Impact）の理解](#影響度impactの理解)
5. [WCAG達成基準ごとの詳細解説](#wcag達成基準ごとの詳細解説)
6. [手動テストが必要な項目](#手動テストが必要な項目)
7. [AI総評の活用方法](#ai総評の活用方法)
8. [改善の進め方](#改善の進め方)

---

## このガイドについて

### 目的

このガイドは、a11y Checkerの分析結果を正しく理解し、Webサイトのアクセシビリティを改善するための手引きです。初めてアクセシビリティテストを行う方でも、結果を読み解き、具体的な改善アクションを取れるようになることを目指しています。

### 自動テストの位置づけ

**重要**: a11y Checkerで使用している自動テストツール（axe-core、Pa11y、Lighthouse）は、WCAG基準の約20-30%しかカバーできません。これは技術的な限界であり、残りの70-80%は人間の判断が必要です。

自動テストは「問題がないこと」を保証するものではなく、「明らかな問題を効率的に発見する」ためのツールです。自動テストでパスしても、手動での確認を併用することを強く推奨します。

詳細は [WCAG網羅性と改善戦略](./wcag-coverage-strategy.md) を参照してください。

---

## レポート画面の構成

### 1. サマリーセクション

分析結果の概要を表示します。

| 項目 | 説明 |
|------|------|
| **総違反数** | 検出されたアクセシビリティ違反の総数 |
| **パス数** | テストをパスした項目の数 |
| **要確認数** | 自動判定できず、手動確認が必要な項目の数 |

### 2. Lighthouseスコア

0-100のスコアで、アクセシビリティの状況を可視化します。

| スコア | 評価 | 目安 |
|--------|------|------|
| 90-100 | 良好 | 目標とすべきレベル |
| 50-89 | 要改善 | 優先的に対応が必要 |
| 0-49 | 不良 | 緊急対応が必要 |

### 3. 詳細結果テーブル

検出された各違反の詳細情報を表示します。列の意味：

- **ルール名（id）**: 違反したルールの識別子
- **説明（description）**: 問題の内容
- **影響度（impact）**: 問題の深刻さ
- **対象要素数（nodeCount）**: 該当するHTML要素の数
- **ヘルプURL**: 詳細な修正方法へのリンク
- **WCAG基準**: 関連するWCAG達成基準
- **検出ツール**: どのツールが検出したか

### 4. AI総評

Gemini Flashが生成する分析結果の要約と改善提案です。

---

## エンジン別結果の読み方

a11y Checkerは3つの**エンジン**（自動でアクセシビリティをチェックしてくれるプログラム）を使って分析を行います。それぞれ異なる特徴があり、お互いを補い合っています。

### 用語説明

| 用語 | 意味 |
|------|------|
| エンジン | 自動でWebページをチェックしてくれるプログラムのこと |
| WCAG | Webアクセシビリティの国際的なルール集 |
| 達成基準 | WCAGで定められた、守るべき具体的なルール |
| violations（違反） | ルール違反が確定した項目。必ず直す |
| incomplete（要確認） | 自動では判断できない項目。人が見て確認する |
| passes（パス） | ルールを満たしていると判断された項目。何もしなくてOK |
| コントラスト比 | 文字色と背景色の「見やすさの差」を表す数字（4.5:1以上が目標） |

---

### 結果画面を見たら、まずやること

a11y Checkerの結果画面が表示されたら、次の順番で確認していきましょう。

#### ステップ1: まず「violations（違反）」を見る

「violations」は**確実に問題がある項目**です。ここから手を付けます。

#### ステップ2: 影響度（impact）が高いものから対応する

| 影響度 | 意味 | いつ直す？ |
|--------|------|-----------|
| **critical** | 致命的。一部のユーザーが全く使えない | **今すぐ**。公開前に必ず直す |
| **serious** | 深刻。多くのユーザーに影響する | **できるだけ早く**。次回リリースまでに直す |
| **moderate** | 中程度。一部のユーザーに影響する | **余裕があれば**。改善タスクとして管理 |
| **minor** | 軽微。使いにくいが使えないほどではない | **長期的に**。余裕があれば対応 |

#### ステップ3: 修正方法を確認する

各違反の「helpUrl」をクリックすると、修正方法が書かれたページが開きます。
英語ですが、図やコード例が多いので、ブラウザの翻訳機能を使えば読めます。

#### ステップ4: 「incomplete（要確認）」を手動で確認する

「incomplete」は**自動では判定できなかった項目**です。以下のチェックリストで確認します。

**キーボード操作チェック**:

- [ ] Tabキーだけで、すべてのボタン・リンクにたどり着けるか？
- [ ] 今どこにフォーカスがあるか、見た目でわかるか？
- [ ] Enter/Spaceキーでボタンやリンクを操作できるか？

**リンクテキストチェック**:

- [ ] 「こちら」「詳しくはこちら」だけのリンクがないか？
- [ ] リンクを読むだけで、どこに行くかわかるか？

**色の使い方チェック**:

- [ ] 赤文字だけでエラーを示していないか？（テキストでも説明があるか）
- [ ] 色がなくても情報が伝わるか？

---

### 問題を直す基本パターン

どんな問題でも、この3ステップで直せます。

1. **場所を特定する**: ツールが示すHTML要素を見て、画面上のどのパーツか確認
2. **何が問題かを理解する**: helpUrlを見て「色が薄すぎる」「ラベルがない」など自分の言葉で言い換える
3. **修正して再チェック**: HTML/CSS/テキストを直して、もう一度ツールを実行

> **コードを直接触らない場合**: 開発者に以下を伝えましょう
>
> - どのページの、どの部分か（URLとスクリーンショット）
> - ルール名とimpact（例：color-contrast, serious）
> - 具体的な説明（例：「コントラスト比2.5:1で、4.5:1必要」）

---

### axe-core

**axe-core**は、Deque Systems社が開発した業界標準のアクセシビリティチェックエンジンです。Chrome DevToolsやLighthouseでも内部で使われています。

#### 結果の3つのカテゴリ

| カテゴリ | 画面での表示 | 意味 | あなたがやること |
|----------|-------------|------|-----------------|
| **violations** | 違反 | 確実に問題がある | **必ず修正する** |
| **passes** | パス | 問題なし | 何もしなくてOK |
| **incomplete** | 要確認 | 自動では判断できない | **自分の目で確認する** |

> **注意**: 「incomplete」は「問題なし」ではありません。自動テストでは判断できないだけなので、必ず自分で確認してください。

#### 結果の各項目が意味すること

結果画面に表示される各項目の意味を説明します。

| 項目名 | 何が書いてあるか | どう使う？ |
|--------|-----------------|-----------|
| **ルール名（id）** | 問題の種類を表す名前（例：color-contrast） | 同じ種類の問題をまとめて直すときの目印 |
| **説明（description）** | 何をチェックしているかの説明（英語） | 問題の内容を理解するのに使う |
| **影響度（impact）** | critical/serious/moderate/minor | 優先順位を決めるのに使う |
| **対象要素数（nodeCount）** | 問題があるパーツ（ボタン、画像など）の数 | 多いほど影響が大きい |
| **ヘルプURL（helpUrl）** | 修正方法が書かれたページへのリンク | クリックして直し方を確認する |
| **WCAG基準（wcagCriteria）** | 違反しているルールの番号（例：1.4.3） | どのルールに違反しているか確認する |
| **検出ツール（toolSource）** | どのエンジンが見つけたか | 通常は気にしなくてOK |

#### 実際の結果を読んでみよう

以下は、よくある「コントラスト不足」の問題が検出された例です。

**結果の例:**

| 項目 | 値 | 意味 |
|------|-----|------|
| ルール名 | color-contrast | コントラスト（文字と背景の色の差）の問題 |
| 説明 | Ensure the contrast... | 「文字色と背景色のコントラスト比を確保してください」という意味 |
| 影響度 | serious | **深刻** → できるだけ早く直す |
| 対象要素数 | 5 | 5箇所で問題が発生している |
| WCAG基準 | 1.4.3 | WCAG 1.4.3「コントラスト（最低限）」に違反 |

**この問題を直すには:**

1. 「ヘルプURL」をクリック（英語ページが開く）
2. ブラウザの翻訳機能を使って読む（図やコード例が多いので、翻訳で十分理解できます）
3. 「How to Fix」セクションを参考に、文字色か背景色を調整する
4. コントラスト比が4.5:1以上になるように色を選ぶ

> **便利ツール**: [WebAIM Contrast Checker][webaim]で色のコントラスト比を確認できます。

[webaim]: https://webaim.org/resources/contrastchecker/

#### よくある問題と直し方

| 問題 | 何が起きている？ | どう直す？ |
|------|-----------------|-----------|
| **color-contrast** | 文字が読みにくい（色の差が小さい） | 文字色か背景色を変えて、コントラスト比を4.5:1以上にする |
| **image-alt** | 画像の説明がない | 画像に`alt="説明文"`を追加。装飾用画像は`alt=""`でOK |
| **label** | 入力欄に名前がない | 入力欄の前に「お名前」などのラベルを追加する |
| **link-name** | リンクの目的がわからない | 「こちら」ではなく「商品一覧を見る」のように具体的な文言にする |
| **button-name** | ボタンの名前がない | ボタンに「送信」「検索」などの文字を入れる |
| **heading-order** | 見出しの順番が飛んでいる | h1→h2→h3の順番で使う（h1の次にh3はダメ） |
| **html-has-lang** | ページの言語が指定されていない | HTMLの最初に`<html lang="ja">`を追加する |

---

### Pa11y

**Pa11y**は、HTML CodeSnifferをベースにしたテストツールです。axe-coreとは違う視点でチェックするので、axe-coreが見逃した問題を見つけてくれることがあります。

#### Pa11yの結果を見たら、まずやること

1. **「error」を最優先で確認する** → 明確なルール違反
2. **「warning」を確認する** → 問題の可能性あり、自分で判断が必要
3. **「notice」は余裕があれば確認** → 確認しておくと良い程度

#### 結果の3つのタイプ

| タイプ | 意味 | あなたがやること |
|--------|------|-----------------|
| **error** | 明確なルール違反 | **必ず直す** |
| **warning** | 問題の可能性がある | **画面を見て判断する** |
| **notice** | 「確認しておいてね」という通知 | 余裕があれば確認 |

> **注意**: Pa11yは「問題なし」の項目は表示しません。表示されているのは全て何らかの対応が必要な項目です。

#### Pa11yの結果項目

| 項目名 | 何が書いてあるか | どう使う？ |
|--------|-----------------|-----------|
| **ルール名（id）** | 長いコード名 | 後で詳しく説明します |
| **説明（description）** | 具体的な問題の説明（英語） | **ここが一番参考になる** |
| **影響度（impact）** | serious/moderate/minor | axe-coreと同じ優先順位で対応 |
| **対象要素数（nodeCount）** | 常に1 | Pa11yは1件ずつ報告するため |
| **WCAG基準（wcagCriteria）** | 違反しているルールの番号 | どのルールに違反しているか確認 |

#### Pa11yの説明は具体的で参考になる

Pa11yの説明には、具体的な数値が入っていることが多く、とても参考になります。

コントラスト不足の例：

| 項目 | 値 | 意味 |
|------|-----|------|
| 説明 | "Expected 4.5:1, but 3.2:1" | 4.5:1以上必要だけど3.2:1しかない |
| 影響度 | serious | 深刻 → できるだけ早く直す |
| WCAG基準 | 1.4.3 | コントラストのルールに違反 |

> **日本語訳のコツ**: 英語の説明は、ブラウザの右クリック → 「日本語に翻訳」で簡単に読めます。

#### ルール名（id）の読み方（興味がある人向け）

Pa11yのルール名は長くて複雑に見えますが、実は構造があります。

**例**: `WCAG2AA.Principle1.Guideline1_4.1_4_3.G18.Fail`

| 部分 | 意味 | 簡単に言うと |
|------|------|-------------|
| `WCAG2AA` | WCAG 2.0 AA基準 | 守るべきルールのレベル |
| `Principle1` | 原則1 | 「見えること」に関するルール |
| `1_4_3` | 達成基準1.4.3 | コントラストのルール |
| `Fail` | 失敗 | このルールに違反している |

> **ポイント**: ルール名を覚える必要はありません。`1_4_3`のような数字を見れば、どのルールに関する問題かがわかります。

#### axe-coreとPa11yの違い（どっちを見ればいい？）

| 観点 | axe-core | Pa11y |
|------|----------|-------|
| **メリット** | ルール網羅性が高い、修正情報が詳しい | 説明に具体的な数値が入る |
| **デメリット** | 説明がやや抽象的 | 「問題なし」が見えない |
| **優先度** | **まずこっちを見る** | axe-coreの補足として見る |

**両方を使う理由**: チェックの方法が違うので、片方が見逃した問題をもう片方が見つけてくれることがあります。

---

### Lighthouse

**Lighthouse**は、Googleが開発した「Webサイトの成績表」のようなツールです。アクセシビリティだけでなく、ページの速度やSEOなども含めて総合的にチェックしてくれます。

#### Lighthouseの結果を見たら、まずやること

1. **スコア（点数）を確認する** → 100点満点で何点か
2. **スコアの色を見る** → 赤は危険、オレンジは要改善、緑はOK
3. **赤・オレンジのカテゴリから対応する**

#### スコアの読み方

Lighthouseは0-100点でスコアを付けます。これが一番わかりやすい「今の状態」の指標です。

| スコア | 色 | 意味 | いつ直す？ |
|--------|-----|------|-----------|
| **90-100** | 緑 | 良好 | 今のまま維持すればOK |
| **50-89** | オレンジ | 要改善 | **早めに直す**。次のリリースまでに対応したい |
| **0-49** | 赤 | 不良 | **今すぐ直す**。公開前に必ず対応 |

> **目標**: まずは**90点以上**を目指しましょう。90点以上あれば「一般的に良好」と言えます。

#### スコア以外に見るもの

Lighthouseの結果には、スコア以外にも「個別のチェック項目」があります。

| 項目名 | 何が書いてあるか | どう使う？ |
|--------|-----------------|-----------|
| **ルール名（id）** | 問題の種類（axe-coreと同じ形式） | どんな問題か把握する |
| **説明（description）** | 問題の説明（英語） | 内容を理解する |
| **影響度（impact）** | critical/serious/moderate/minor | 優先順位を決める |
| **対象要素数（nodeCount）** | 問題があるパーツの数 | 多いほど影響が大きい |
| **ヘルプURL（helpUrl）** | web.devへのリンク | **ここが超便利**。Googleが作った修正ガイド |

#### ヘルプURL（web.dev）の使い方

Lighthouseのヘルプリンクをクリックすると、**web.dev**というGoogleのサイトが開きます。

**web.devのページの見方**:

1. **最初の段落**: 何が問題かの説明
2. **「How to fix」**: 修正方法（**ここを見れば直し方がわかる**）
3. **コード例**: そのままコピーして使える例

> **日本語で読む**: 一部のページは日本語版があります。また、ブラウザの翻訳機能を使えば十分読めます。

#### よく見かけるチェック項目

| チェック項目 | 何をチェックしている？ | よくある問題 |
|-------------|---------------------|-------------|
| **color-contrast** | 文字と背景の色の差 | 薄い色の文字が読みにくい |
| **image-alt** | 画像に説明があるか | 画像に説明文がない |
| **link-name** | リンクが何かわかるか | 「こちら」だけのリンク |
| **button-name** | ボタンが何かわかるか | アイコンだけのボタン |
| **document-title** | ページにタイトルがあるか | `<title>`が空 |
| **html-has-lang** | 言語が指定されているか | `<html lang="ja">`がない |

#### Lighthouseだけの便利な点

Lighthouseは**スコアで現状が一目でわかる**のが最大の特徴です。

- **報告書を作るとき**: 「現在のスコアは75点で、目標は90点以上です」と言える
- **改善を測るとき**: 「先月50点→今月75点に改善しました」と進捗がわかる
- **他ツールとの違い**: axe-coreやPa11yは「問題の数」しかわからないが、Lighthouseは「全体の状態」がわかる

---

### 3つのエンジンの使い分け（結局どれを見ればいい？）

**結論**: 全部見る必要はありません。**順番に見れば**効率的です。

#### おすすめの見る順番

1. **Lighthouseスコアで「今の状態」をざっくり把握**
   - 90点以上 → 大きな問題はなさそう
   - 50-89点 → 改善が必要
   - 49点以下 → 緊急対応が必要

2. **axe-coreで「何を直すべきか」を確認**
   - violations（違反）をcritical → seriousの順に確認
   - 各問題のhelpUrlで修正方法を調べる

3. **Pa11yで「見落とし」がないか確認**
   - axe-coreで見つからなかった問題がないかチェック
   - 特にdescription（説明）の具体的な数値が参考になる

4. **incomplete（要確認）を手動でチェック**
   - 自動テストでは判断できなかった項目を目視確認

#### 3つのエンジンの特徴まとめ

| エンジン | 一言で言うと | どんなときに見る？ |
|----------|-------------|-------------------|
| **axe-core** | 問題を見つける専門家 | **メインで使う**。問題の詳細と直し方を確認 |
| **Pa11y** | 別の視点からチェック | axe-coreの補足。具体的な数値が欲しいとき |
| **Lighthouse** | 成績表 | 最初と最後に確認。「今何点か」「改善したか」を把握 |

> **初心者向けアドバイス**: 迷ったら**axe-coreだけ見れば**十分です。axe-coreが一番情報が充実しています。

---

## 影響度（Impact）の理解

### 影響度って何？

影響度は「この問題をそのままにしておくと、どのくらいひどいことになるか」を表しています。

### 影響度ごとの対応の目安

| 影響度 | 日本語 | どんな状況？ | いつ直す？ | 例 |
|--------|--------|-------------|-----------|-----|
| **critical** | 致命的 | 一部のユーザーが**全く使えない** | **今すぐ**（公開前に必ず） | ボタンに名前がなくて押せない |
| **serious** | 深刻 | 使えるけど**とても使いにくい** | **できるだけ早く**（次回リリースまで） | 文字が薄くて読めない |
| **moderate** | 中程度 | 使えるけど**やや不便** | **余裕があれば**（改善タスクとして管理） | 順番が少し変 |
| **minor** | 軽微 | ほぼ問題ないが**ベストプラクティスに反する** | **長期的に**（余裕があれば対応） | 見出しが1つ飛んでいる |

### 誰が困る？具体例

「この問題を直さないと誰が困るの？」という観点で考えると、優先度が理解しやすくなります。

| 問題の例 | 困る人 | なぜ困る？ |
|---------|-------|-----------|
| 画像に説明がない | 目が見えない人 | スクリーンリーダーが「画像」としか読み上げず、何の画像かわからない |
| 文字と背景の色が近い | 視力が弱い人、高齢者 | 文字が見えない・読みにくい |
| ボタンに名前がない | 目が見えない人、キーボード操作の人 | 何のボタンかわからず操作できない |
| 「こちら」だけのリンク | 目が見えない人 | どこに行くかわからない |
| キーボードで操作できない | マウスが使えない人 | その機能が全く使えない |

### 優先順位の付け方（迷ったときのルール）

1. **まずimpactを見る**: critical → serious → moderate → minor の順
2. **同じimpactなら件数を見る**: 件数が多い問題は影響範囲が大きい
3. **ページの重要度も考慮**: トップページ・申込ページ・決済ページは優先

**実務的なトリアージ例**:

- **まずは critical と serious をすべて片付けてから**、moderate に進みましょう
- 同じ種類のエラーがたくさんある場合は、**テンプレートや共通コンポーネント**から直すと効率的
- 同じ serious でも、**会員登録や購入フローなど重要な操作**に関わるものを優先

---

## WCAG達成基準ごとの詳細解説

### 1. 知覚可能（Perceivable）

#### 1.1.1 非テキストコンテンツ（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: 画像、アイコン、グラフなど非テキスト要素に代替テキストが設定されているか

**よくある違反**:

```html
<!-- NG: alt属性がない -->
<img src="logo.png">

<!-- OK: 適切なalt属性 -->
<img src="logo.png" alt="会社ロゴ">

<!-- OK: 装飾画像 -->
<img src="decoration.png" alt="" role="presentation">
```

**修正方法**:

- 意味のある画像には内容を説明する`alt`属性を追加
- 装飾目的の画像には`alt=""`を設定
- 複雑な図表には`aria-describedby`で詳細説明を提供

**参考**: [Ameba Accessibility Guidelines - 1.1.1 画像に代替テキストを提供する](https://a11y-guidelines.ameba.design/1/1/1/)

---

#### 1.3.1 情報及び関係性（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: 見出し、リスト、テーブルなどの構造がHTML要素で正しくマークアップされているか

**よくある違反**:

```html
<!-- NG: divでスタイリング -->
<div class="heading">見出し</div>

<!-- OK: 適切な見出し要素 -->
<h2>見出し</h2>

<!-- NG: リスト構造がない -->
<div>
  ・項目1<br>
  ・項目2<br>
</div>

<!-- OK: リスト要素を使用 -->
<ul>
  <li>項目1</li>
  <li>項目2</li>
</ul>
```

**参考**: [Ameba Accessibility Guidelines - 1.3.1 情報や関係性を明確にする](https://a11y-guidelines.ameba.design/1/3/1/)

---

#### 1.4.3 コントラスト（最低限）（Level AA）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: テキストと背景色のコントラスト比が十分か

**基準**:

- 通常テキスト: 4.5:1 以上
- 大きなテキスト（18pt以上、または14pt太字以上）: 3:1 以上

**確認ツール**: [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/)

```css
/* NG: コントラスト不足 */
.text {
  color: #999999;
  background: #ffffff;
}

/* OK: 十分なコントラスト */
.text {
  color: #595959;
  background: #ffffff;
}
```

**参考**: [Ameba Accessibility Guidelines - 1.4.3 テキストや文字画像のコントラストを確保する](https://a11y-guidelines.ameba.design/1/4/3/)

---

### 2. 操作可能（Operable）

#### 2.1.1 キーボード（Level A）

**自動テスト**: 部分的（基本的なチェックのみ）

**チェック内容**: すべての機能がキーボードで操作可能か

**注意**: 自動テストでは完全な検証ができません。手動でのテストが必要です。

**手動テスト方法**:

1. マウスを使わずにTabキーで全要素を移動
2. Enter/Spaceでボタンやリンクを操作
3. モーダルやドロップダウンがキーボードで操作できるか確認

```html
<!-- NG: クリックイベントのみ -->
<div onclick="doSomething()">クリック</div>

<!-- OK: キーボードアクセス可能 -->
<button onclick="doSomething()">クリック</button>

<!-- または -->
<div role="button" tabindex="0"
     onclick="doSomething()"
     onkeydown="if(event.key==='Enter')doSomething()">
  クリック
</div>
```

**参考**: [Ameba Accessibility Guidelines - 2.1.1 キーボードだけでも操作できるようにする](https://a11y-guidelines.ameba.design/2/1/1/)

---

#### 2.4.1 ブロックスキップ（Level A）

**自動テスト**: 可能（axe-core、Lighthouse）

**チェック内容**: 繰り返しコンテンツをスキップする手段があるか

**実装方法**:

```html
<!-- スキップリンク -->
<a href="#main-content" class="skip-link">
  メインコンテンツへスキップ
</a>

<!-- ランドマーク -->
<header role="banner">...</header>
<nav role="navigation">...</nav>
<main id="main-content" role="main">...</main>
<footer role="contentinfo">...</footer>
```

**参考**: [Ameba Accessibility Guidelines - 2.4.1 重複する情報をスキップできるようにする](https://a11y-guidelines.ameba.design/2/4/1/)

---

#### 2.4.2 ページタイトル（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: ページに適切なタイトルが設定されているか

```html
<!-- NG: タイトルがない、または汎用的 -->
<title>ページ</title>

<!-- OK: 具体的なタイトル -->
<title>お問い合わせ | 株式会社サンプル</title>
```

**参考**: [Ameba Accessibility Guidelines - 2.4.2 ページの主題がわかるタイトルをつける](https://a11y-guidelines.ameba.design/2/4/2/)

---

#### 2.4.4 リンクの目的（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: リンクテキストからリンク先が理解できるか

```html
<!-- NG: 目的が不明 -->
<a href="/detail">こちら</a>

<!-- OK: 目的が明確 -->
<a href="/detail">製品の詳細を見る</a>

<!-- または aria-label で補足 -->
<a href="/detail" aria-label="製品Aの詳細を見る">詳細</a>
```

**参考**: [Ameba Accessibility Guidelines - 2.4.4 リンクの目的を理解できるようにする](https://a11y-guidelines.ameba.design/2/4/4/)

---

### 3. 理解可能（Understandable）

#### 3.1.1 ページの言語（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: HTML要素にlang属性が設定されているか

```html
<!-- NG: lang属性がない -->
<html>

<!-- OK: 言語を指定 -->
<html lang="ja">
```

**参考**: [Ameba Accessibility Guidelines - 3.1.1 ページの言語を指定する](https://a11y-guidelines.ameba.design/3/1/1/)

---

#### 3.3.2 ラベル又は説明（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: フォーム入力に適切なラベルがあるか

```html
<!-- NG: ラベルがない -->
<input type="text" name="email">

<!-- OK: label要素で関連付け -->
<label for="email">メールアドレス</label>
<input type="text" id="email" name="email">

<!-- OK: aria-labelで指定 -->
<input type="text" name="email" aria-label="メールアドレス">
```

**参考**: [Ameba Accessibility Guidelines - 3.3.2 フォーム入力時にラベルや説明を提供する](https://a11y-guidelines.ameba.design/3/3/2/)

---

### 4. 堅牢（Robust）

#### 4.1.2 名前、役割、値（Level A）

**自動テスト**: 可能（axe-core、Pa11y、Lighthouse）

**チェック内容**: カスタムUIコンポーネントに適切なARIA属性が設定されているか

```html
<!-- NG: 役割が不明 -->
<div class="tab" onclick="showTab(1)">タブ1</div>

<!-- OK: ARIA属性で役割を明示 -->
<div role="tab"
     aria-selected="true"
     aria-controls="panel1"
     tabindex="0">
  タブ1
</div>
```

**参考**: [Ameba Accessibility Guidelines - 4.1.2 カスタムコントロールの名前・役割・値を設定する](https://a11y-guidelines.ameba.design/4/1/2/)

---

## 手動テストが必要な項目

以下の達成基準は、自動テストでは検証できないか、部分的にしか検証できません。必ず手動での確認が必要です。

### 時間依存メディア（1.2.1-1.2.5）

| 項番 | 基準名 | 確認ポイント |
|------|--------|-------------|
| 1.2.1 | 音声のみ（収録済） | 音声コンテンツにテキスト代替があるか |
| 1.2.2 | キャプション（収録済） | 動画に字幕があるか |
| 1.2.3 | 音声解説（収録済） | 動画の視覚情報が音声で説明されているか |
| 1.2.4 | キャプション（ライブ） | ライブ配信に字幕があるか |
| 1.2.5 | 音声解説（収録済） | 音声解説版が提供されているか |

**確認方法**: 動画や音声コンテンツを実際に再生し、代替コンテンツの有無と品質を確認

**参考**: [Ameba Accessibility Guidelines - 1.2.1 収録済みの動画に代替コンテンツを提供する](https://a11y-guidelines.ameba.design/1/2/1/)

---

### 感覚的な特徴（1.3.3）

**確認ポイント**: 形、色、位置、音だけで情報を伝えていないか

```html
<!-- NG: 位置だけで指示 -->
<p>右側のボタンをクリックしてください</p>

<!-- OK: 名前で指示 -->
<p>「送信」ボタンをクリックしてください</p>
```

**参考**: [Ameba Accessibility Guidelines - 1.3.3 感覚的な特徴だけで説明しない](https://a11y-guidelines.ameba.design/1/3/3/)

---

### 色の使用（1.4.1）

**確認ポイント**: 色だけで情報を伝えていないか

```html
<!-- NG: 色だけでエラーを示す -->
<input style="border-color: red;">

<!-- OK: テキストでも示す -->
<input style="border-color: red;" aria-invalid="true">
<span class="error">このフィールドは必須です</span>
```

**参考**: [Ameba Accessibility Guidelines - 1.4.1 色だけで伝えない](https://a11y-guidelines.ameba.design/1/4/1/)

---

### フォーカス順序（2.4.3）

**確認ポイント**: Tabキーでの移動順序が論理的か

**確認方法**:

1. ページの先頭でTabキーを押し始める
2. フォーカスが視覚的な順序（左上→右下）に沿って移動するか確認
3. モーダルを開いた際、フォーカスがモーダル内に閉じ込められるか確認

**参考**: [Ameba Accessibility Guidelines - 2.4.3 フォーカス順序を論理的にする](https://a11y-guidelines.ameba.design/2/4/3/)

---

### 一貫性（3.2.1-3.2.4）

| 項番 | 基準名 | 確認ポイント |
|------|--------|-------------|
| 3.2.1 | フォーカス時 | フォーカスしただけで予期しない変化がないか |
| 3.2.2 | 入力時 | 入力しただけで予期しない変化がないか |
| 3.2.3 | 一貫したナビゲーション | サイト内でナビゲーションの位置が一貫しているか |
| 3.2.4 | 一貫した識別性 | 同じ機能が同じアイコン・ラベルで識別されるか |

**参考**: [Ameba Accessibility Guidelines - 3.2.1 フォーカスで状況を大きく変えない](https://a11y-guidelines.ameba.design/3/2/1/)

---

### エラーの特定（3.3.1）

**確認ポイント**: エラーが発生した際、何が問題かが明確に伝わるか

```html
<!-- NG: 曖昧なエラー -->
<p class="error">入力エラーがあります</p>

<!-- OK: 具体的なエラー -->
<p class="error">メールアドレスの形式が正しくありません。例: example@domain.com</p>
```

**参考**: [Ameba Accessibility Guidelines - 3.3.1 エラー箇所と修正方法を明示する](https://a11y-guidelines.ameba.design/3/3/1/)

---

### ステータスメッセージ（4.1.3）

**確認ポイント**: スクリーンリーダーにステータス変更が通知されるか

```html
<!-- OK: aria-liveで通知 -->
<div aria-live="polite" aria-atomic="true">
  フォームが送信されました
</div>
```

**参考**: [Ameba Accessibility Guidelines - 4.1.3 ステータスメッセージを認識できるようにする](https://a11y-guidelines.ameba.design/4/1/3/)

---

## AI総評の活用方法

### AI総評の構成

AI総評には以下の情報が含まれます：

| セクション | 内容 |
|-----------|------|
| **全体評価** | アクセシビリティ状況の概要 |
| **検出された問題** | 構造化された問題詳細（何が起きているか、必要なもの、修正方法） |
| **優先改善ポイント** | 優先度順の改善項目リスト |
| **具体的な推奨事項** | 実装レベルのアドバイス |
| **影響度サマリー** | critical/serious/moderate/minorの件数 |

### 改善提案の読み方

AI総評の「検出された問題」は以下の形式で記載されます：

- **何が起きているか（whatIsHappening）**: 問題の現状
- **必要なもの（whatIsNeeded）**: 修正に必要な対応
- **修正方法（howToFix）**: 具体的な修正手順

この情報を元に、開発チケットやタスクを作成することができます。

### 優先度の判断

AI総評の「優先改善ポイント」は、以下の観点で優先度が付けられています：

1. 影響度（critical > serious > moderate > minor）
2. 影響を受けるユーザー数（頻出する問題を優先）
3. 修正の容易さ（簡単に修正できるものを優先）

---

## 改善の進め方

### ステップ1: 現状把握

1. a11y Checkerで分析を実行
2. Lighthouseスコアを確認（現在の状態を数値で把握）
3. 影響度別の問題数を確認

### ステップ2: 優先順位付け

1. `critical`と`serious`の問題をリストアップ
2. 対象要素数（nodeCount）が多い問題を優先
3. AI総評の優先改善ポイントを参考にする

### ステップ3: 修正

1. 各問題のヘルプURLで修正方法を確認
2. Amebaガイドラインで具体例を確認
3. 修正を実施

### ステップ4: 再テスト

1. 修正後、再度a11y Checkerで分析
2. Lighthouseスコアの改善を確認
3. 問題が解消されたことを確認

### ステップ5: 手動テスト

1. [手動テストが必要な項目](#手動テストが必要な項目)を確認
2. キーボード操作でサイト全体をナビゲート
3. スクリーンリーダーでの動作確認（可能であれば）

---

## 参考リソース

### 公式ドキュメント

- [WCAG 2.1 日本語訳](https://waic.jp/docs/WCAG21/)
- [axe-core ルール一覧](https://dequeuniversity.com/rules/axe/)
- [Ameba Accessibility Guidelines](https://a11y-guidelines.ameba.design/)

### ツール

- [WebAIM Contrast Checker](https://webaim.org/resources/contrastchecker/) - コントラスト比確認
- [WAVE Web Accessibility Evaluator](https://wave.webaim.org/) - ブラウザ拡張機能
- [axe DevTools](https://www.deque.com/axe/devtools/) - Chrome拡張機能

### 関連ドキュメント

- [WCAG網羅性と改善戦略](./wcag-coverage-strategy.md) - カバレッジと手動テストチェックリスト
- [WCAG準拠基準リファレンス](./wcag-reference.md) - よくある違反パターン
- [アクセシビリティテスト実行ガイド](./accessibility-testing-guide.md) - テスト実行方法
